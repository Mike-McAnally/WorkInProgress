<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,shrink-to-fit=no,user-scalable=no,maximum-scale=1,minimum-scale=1">
    <title>Islands</title>
    <meta name="description" content="Built with height map terrain from the original Viradu.com, donated to the Mind Palace project by Michael McAnally Oct 12, 2019."></meta>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="gray-translucent" />
<!-- A-frame component libraries -->
    <script src="js/aframe-master.min.js"></script>
    <script src="js/aframe-environment-component.js"></script>
    <script src="js/aframe-extras.min.js"></script>
    <script src="js/aframe-teleport-controls.min.js"></script>
    <script src="js/aframe-text-geometry-component.min.js"></script>
    <!-- extra stuff for later on... you can look them up on github  -->
    <script src="js/aframe-alongpath-component.min.js"></script>
    <script src="js/aframe-curve-component.min.js"></script>
    <script src="js/aframe-mouse-cursor-component.min.js"></script>
    <script src="js/aframe-multisrc-component.js"></script>
    <script src="js/aframe-particle-system-component.min.js"></script>

    <!-- Libs required for NAF (NAF needs to be globally accessible) -->
    <script>window.NAF || document.write('<script src="js/networked-aframe.min.js">\x3C/script>')</script>
    <script src="js/socket.io.min.js"></script>
    <script src="js/easyrtc.js"></script>

    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>


        <script type="text/javascript">


      // Component to do on click.
      AFRAME.registerComponent('click-listener', {
        init: function () {

            this.el.addEventListener('click', function (evt) {

                // remove clicked object from view
                this.setAttribute('visible', false);
                //slower...
                //document.getElementById('cube').setAttribute('visible', false);


            });
        }
      });

      function doSomethingElse() {
        //window.location.href="https://rocketvirtual.com";
        document.getElementById('sphere').setAttribute('color', 'purple');
      }

      //   audio problem (and it is...) https://stackoverflow.com/questions/47921013/play-sound-on-click-in-a-frame?answertab=active#tab-top
      AFRAME.registerComponent('audiohandler', {
        init:function() {
            let playing = false;
            let audio = document.querySelector("#playAudio");
            this.el.addEventListener('click', () => {

                if(!playing) {
                    audio.play();
                } else {
                    audio.pause();
                    audio.currentTime = 0;
                }
                playing = !playing;
            });
        }
      })


      function GoNode(nodeURL) {
        window.location.href = "/" + nodeURL;
      }


  </script>


  </head>
  <body>


<!-- used for creating Navmesh... see javascript component above <a-scene inspector-plugin-recast>  https://github.com/donmccurdy/aframe-inspector-plugin-recast-->

  <a-scene inspector-plugin-recast>   

      <a-assets>
        <a-asset-item crossorigin="anonymous" id="Islands" src="/assets/gltf/island200.glb"></a-asset-item>
        <a-asset-item crossorigin="anonymous" id="Palm" src="/assets/gltf/palm.glb"></a-asset-item>
      </a-assets>

      <a-entity id="mouseCursor" cursor="rayOrigin: mouse"></a-entity>



     

      <!-- Island -->
      <a-entity id="MP_Islands" gltf-model="#Islands" position="0 -2.713 0" scale="75 75 75"></a-entity>





    </a-scene>
  </body>
</html>

